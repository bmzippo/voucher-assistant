{"ast":null,"code":"var _jsxFileName = \"/Users/1-tiennv-m/1MG/Projects/LLM/voucher_assistant/frontend/src/components/VectorSearch.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { FiSearch, FiLoader, FiZap, FiFilter, FiCpu } from 'react-icons/fi';\nimport { voucherApi } from '../services/api';\n\n// Types for Vector Search\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n// Styled Components\nconst SearchContainer = styled.div`\n  background: white;\n  border-radius: 16px;\n  border: 1px solid #e0e0e0;\n  padding: 24px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  margin-bottom: 24px;\n`;\n_c = SearchContainer;\nconst SearchHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 20px;\n`;\n_c2 = SearchHeader;\nconst SearchTitle = styled.h2`\n  margin: 0;\n  color: #333;\n  font-size: 24px;\n  font-weight: 600;\n`;\n_c3 = SearchTitle;\nconst SearchIcon = styled.div`\n  width: 40px;\n  height: 40px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 20px;\n`;\n_c4 = SearchIcon;\nconst SearchInputContainer = styled.div`\n  position: relative;\n  margin-bottom: 16px;\n`;\n_c5 = SearchInputContainer;\nconst SearchInput = styled.input`\n  width: 100%;\n  padding: 16px 52px 16px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 12px;\n  font-size: 16px;\n  background: #fafafa;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    background: white;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  }\n\n  &::placeholder {\n    color: #999;\n  }\n`;\n_c6 = SearchInput;\nconst SearchButton = styled.button`\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  border-radius: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-50%) scale(1.05);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: translateY(-50%);\n  }\n`;\n_c7 = SearchButton;\nconst SearchOptions = styled.div`\n  display: flex;\n  gap: 16px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n`;\n_c8 = SearchOptions;\nconst OptionGroup = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n_c9 = OptionGroup;\nconst OptionLabel = styled.label`\n  font-size: 14px;\n  color: #666;\n  font-weight: 500;\n`;\n_c0 = OptionLabel;\nconst OptionInput = styled.input`\n  padding: 6px 12px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  font-size: 14px;\n  width: 80px;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n  }\n`;\n_c1 = OptionInput;\nconst SearchModeToggle = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 16px;\n`;\n_c10 = SearchModeToggle;\nconst ModeButton = styled.button`\n  padding: 8px 16px;\n  border: 2px solid ${props => props.active ? '#667eea' : '#e0e0e0'};\n  background: ${props => props.active ? '#667eea' : 'white'};\n  color: ${props => props.active ? 'white' : '#666'};\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #667eea;\n    background: ${props => props.active ? '#667eea' : '#f8f9ff'};\n  }\n`;\n_c11 = ModeButton;\nconst ResultsContainer = styled.div`\n  margin-top: 24px;\n`;\n_c12 = ResultsContainer;\nconst ResultsHeader = styled.div`\n  display: flex;\n  justify-content: between;\n  align-items: center;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #f0f0f0;\n`;\n_c13 = ResultsHeader;\nconst ResultsInfo = styled.div`\n  color: #666;\n  font-size: 14px;\n`;\n_c14 = ResultsInfo;\nconst ResultCard = styled.div`\n  background: #fafafa;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #667eea;\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);\n  }\n`;\n_c15 = ResultCard;\nconst ResultHeader = styled.div`\n  display: flex;\n  justify-content: between;\n  align-items: flex-start;\n  margin-bottom: 12px;\n`;\n_c16 = ResultHeader;\nconst VoucherName = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 18px;\n  font-weight: 600;\n  flex: 1;\n`;\n_c17 = VoucherName;\nconst ScoreContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 4px;\n`;\n_c18 = ScoreContainer;\nconst SimilarityScore = styled.div`\n  background: ${props => {\n  if (props.score >= 0.8) return 'linear-gradient(135deg, #4CAF50, #45a049)';\n  if (props.score >= 0.6) return 'linear-gradient(135deg, #FF9800, #f57c00)';\n  return 'linear-gradient(135deg, #757575, #616161)';\n}};\n  color: white;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 600;\n`;\n_c19 = SimilarityScore;\nconst RawScore = styled.div`\n  font-size: 10px;\n  color: #999;\n`;\n_c20 = RawScore;\nconst VoucherContent = styled.div`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 12px;\n  max-height: 100px;\n  overflow: hidden;\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 20px;\n    background: linear-gradient(transparent, #fafafa);\n  }\n`;\n_c21 = VoucherContent;\nconst MetadataContainer = styled.div`\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  margin-top: 12px;\n`;\n_c22 = MetadataContainer;\nconst MetadataTag = styled.span`\n  background: #e3f2fd;\n  color: #1976d2;\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n`;\n_c23 = MetadataTag;\nconst LoadingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  color: #666;\n  font-size: 16px;\n  gap: 12px;\n`;\n_c24 = LoadingContainer;\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #999;\n  font-size: 16px;\n`;\n\n// Main Component\n_c25 = EmptyState;\nconst VectorSearch = () => {\n  _s();\n  const [query, setQuery] = useState('');\n  const [searchMode, setSearchMode] = useState('vector');\n  const [topK, setTopK] = useState(5);\n  const [minScore, setMinScore] = useState(0.7);\n  const [isLoading, setIsLoading] = useState(false);\n  const [results, setResults] = useState(null);\n  const [error, setError] = useState('');\n  const handleSearch = async () => {\n    if (!query.trim()) return;\n    setIsLoading(true);\n    setError('');\n    try {\n      const searchParams = {\n        query: query.trim(),\n        top_k: topK,\n        min_score: minScore\n      };\n      let response;\n      if (searchMode === 'vector') {\n        response = await voucherApi.post('/api/vector-search', searchParams);\n      } else {\n        response = await voucherApi.post('/api/hybrid-search', searchParams);\n      }\n      setResults(response.data);\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.detail) || 'Có lỗi xảy ra khi tìm kiếm');\n      console.error('Search error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const handleKeyPress = e => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(SearchContainer, {\n    children: [/*#__PURE__*/_jsxDEV(SearchHeader, {\n      children: [/*#__PURE__*/_jsxDEV(SearchIcon, {\n        children: /*#__PURE__*/_jsxDEV(FiCpu, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchTitle, {\n        children: \"Vector Search - T\\xECm ki\\u1EBFm th\\xF4ng minh\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 351,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchModeToggle, {\n      children: [/*#__PURE__*/_jsxDEV(ModeButton, {\n        active: searchMode === 'vector',\n        onClick: () => setSearchMode('vector'),\n        children: [/*#__PURE__*/_jsxDEV(FiZap, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), \"Vector Search\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ModeButton, {\n        active: searchMode === 'hybrid',\n        onClick: () => setSearchMode('hybrid'),\n        children: [/*#__PURE__*/_jsxDEV(FiFilter, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 11\n        }, this), \"Hybrid Search\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 362,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchInputContainer, {\n      children: [/*#__PURE__*/_jsxDEV(SearchInput, {\n        type: \"text\",\n        placeholder: \"Nh\\u1EADp t\\u1EEB kh\\xF3a t\\xECm ki\\u1EBFm voucher (VD: 'voucher gi\\u1EA3m gi\\xE1 RuNam', 'spa massage'...)\",\n        value: query,\n        onChange: e => setQuery(e.target.value),\n        onKeyPress: handleKeyPress\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 372,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(SearchButton, {\n        onClick: handleSearch,\n        disabled: isLoading || !query.trim(),\n        children: isLoading ? /*#__PURE__*/_jsxDEV(FiLoader, {\n          className: \"animate-spin\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 24\n        }, this) : /*#__PURE__*/_jsxDEV(FiSearch, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 383,\n          columnNumber: 64\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 379,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 371,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SearchOptions, {\n      children: [/*#__PURE__*/_jsxDEV(OptionGroup, {\n        children: [/*#__PURE__*/_jsxDEV(OptionLabel, {\n          children: \"S\\u1ED1 k\\u1EBFt qu\\u1EA3:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OptionInput, {\n          type: \"number\",\n          min: \"1\",\n          max: \"20\",\n          value: topK,\n          onChange: e => setTopK(parseInt(e.target.value) || 5)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 390,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(OptionGroup, {\n        children: [/*#__PURE__*/_jsxDEV(OptionLabel, {\n          children: \"\\u0110\\u1ED9 t\\u01B0\\u01A1ng \\u0111\\u1ED3ng t\\u1ED1i thi\\u1EC3u:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 399,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(OptionInput, {\n          type: \"number\",\n          min: \"0.1\",\n          max: \"1.0\",\n          step: \"0.1\",\n          value: minScore,\n          onChange: e => setMinScore(parseFloat(e.target.value) || 0.7)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 400,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 398,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), error && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        color: '#f44336',\n        background: '#ffebee',\n        padding: '12px',\n        borderRadius: '8px',\n        marginBottom: '16px'\n      },\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 9\n    }, this), isLoading && /*#__PURE__*/_jsxDEV(LoadingContainer, {\n      children: [/*#__PURE__*/_jsxDEV(FiLoader, {\n        className: \"animate-spin\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 425,\n        columnNumber: 11\n      }, this), \"\\u0110ang t\\xECm ki\\u1EBFm...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 424,\n      columnNumber: 9\n    }, this), results && !isLoading && /*#__PURE__*/_jsxDEV(ResultsContainer, {\n      children: [/*#__PURE__*/_jsxDEV(ResultsHeader, {\n        children: /*#__PURE__*/_jsxDEV(ResultsInfo, {\n          children: [\"T\\xECm th\\u1EA5y \", /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: results.total_results\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 434,\n            columnNumber: 24\n          }, this), \" k\\u1EBFt qu\\u1EA3 trong\", ' ', /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: [results.search_time_ms, \"ms\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), searchMode === 'vector' && /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [\" (Embedding dimension: \", results.embedding_dimension, \")\"]\n          }, void 0, true)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 433,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 432,\n        columnNumber: 11\n      }, this), results.results.length === 0 ? /*#__PURE__*/_jsxDEV(EmptyState, {\n        children: [\"Kh\\xF4ng t\\xECm th\\u1EA5y voucher n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi t\\u1EEB kh\\xF3a \\\"\", query, \"\\\"\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 443,\n        columnNumber: 13\n      }, this) : results.results.map((result, index) => /*#__PURE__*/_jsxDEV(ResultCard, {\n        children: [/*#__PURE__*/_jsxDEV(ResultHeader, {\n          children: [/*#__PURE__*/_jsxDEV(VoucherName, {\n            children: result.voucher_name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 450,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(ScoreContainer, {\n            children: [/*#__PURE__*/_jsxDEV(SimilarityScore, {\n              score: result.similarity_score,\n              children: [(result.similarity_score * 100).toFixed(1), \"% ph\\xF9 h\\u1EE3p\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 452,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(RawScore, {\n              children: [\"Raw: \", result.raw_score.toFixed(3)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 455,\n              columnNumber: 21\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 449,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(VoucherContent, {\n          children: result.content\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 459,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(MetadataContainer, {\n          children: [/*#__PURE__*/_jsxDEV(MetadataTag, {\n            children: [\"ID: \", result.voucher_id]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 464,\n            columnNumber: 19\n          }, this), result.metadata.source && /*#__PURE__*/_jsxDEV(MetadataTag, {\n            children: [\"Ngu\\u1ED3n: \", result.metadata.source]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 466,\n            columnNumber: 21\n          }, this), result.created_at && /*#__PURE__*/_jsxDEV(MetadataTag, {\n            children: [\"Ng\\xE0y t\\u1EA1o: \", new Date(result.created_at).toLocaleDateString('vi-VN')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 469,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 463,\n          columnNumber: 17\n        }, this)]\n      }, `${result.voucher_id}-${index}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 448,\n        columnNumber: 15\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 431,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 346,\n    columnNumber: 5\n  }, this);\n};\n_s(VectorSearch, \"/0KiYiK7weuHI1VPta7i5/6k9u4=\");\n_c26 = VectorSearch;\nexport default VectorSearch;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12, _c13, _c14, _c15, _c16, _c17, _c18, _c19, _c20, _c21, _c22, _c23, _c24, _c25, _c26;\n$RefreshReg$(_c, \"SearchContainer\");\n$RefreshReg$(_c2, \"SearchHeader\");\n$RefreshReg$(_c3, \"SearchTitle\");\n$RefreshReg$(_c4, \"SearchIcon\");\n$RefreshReg$(_c5, \"SearchInputContainer\");\n$RefreshReg$(_c6, \"SearchInput\");\n$RefreshReg$(_c7, \"SearchButton\");\n$RefreshReg$(_c8, \"SearchOptions\");\n$RefreshReg$(_c9, \"OptionGroup\");\n$RefreshReg$(_c0, \"OptionLabel\");\n$RefreshReg$(_c1, \"OptionInput\");\n$RefreshReg$(_c10, \"SearchModeToggle\");\n$RefreshReg$(_c11, \"ModeButton\");\n$RefreshReg$(_c12, \"ResultsContainer\");\n$RefreshReg$(_c13, \"ResultsHeader\");\n$RefreshReg$(_c14, \"ResultsInfo\");\n$RefreshReg$(_c15, \"ResultCard\");\n$RefreshReg$(_c16, \"ResultHeader\");\n$RefreshReg$(_c17, \"VoucherName\");\n$RefreshReg$(_c18, \"ScoreContainer\");\n$RefreshReg$(_c19, \"SimilarityScore\");\n$RefreshReg$(_c20, \"RawScore\");\n$RefreshReg$(_c21, \"VoucherContent\");\n$RefreshReg$(_c22, \"MetadataContainer\");\n$RefreshReg$(_c23, \"MetadataTag\");\n$RefreshReg$(_c24, \"LoadingContainer\");\n$RefreshReg$(_c25, \"EmptyState\");\n$RefreshReg$(_c26, \"VectorSearch\");","map":{"version":3,"names":["React","useState","styled","FiSearch","FiLoader","FiZap","FiFilter","FiCpu","voucherApi","jsxDEV","_jsxDEV","Fragment","_Fragment","SearchContainer","div","_c","SearchHeader","_c2","SearchTitle","h2","_c3","SearchIcon","_c4","SearchInputContainer","_c5","SearchInput","input","_c6","SearchButton","button","_c7","SearchOptions","_c8","OptionGroup","_c9","OptionLabel","label","_c0","OptionInput","_c1","SearchModeToggle","_c10","ModeButton","props","active","_c11","ResultsContainer","_c12","ResultsHeader","_c13","ResultsInfo","_c14","ResultCard","_c15","ResultHeader","_c16","VoucherName","h3","_c17","ScoreContainer","_c18","SimilarityScore","score","_c19","RawScore","_c20","VoucherContent","_c21","MetadataContainer","_c22","MetadataTag","span","_c23","LoadingContainer","_c24","EmptyState","_c25","VectorSearch","_s","query","setQuery","searchMode","setSearchMode","topK","setTopK","minScore","setMinScore","isLoading","setIsLoading","results","setResults","error","setError","handleSearch","trim","searchParams","top_k","min_score","response","post","data","err","_err$response","_err$response$data","detail","console","handleKeyPress","e","key","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","type","placeholder","value","onChange","target","onKeyPress","disabled","className","min","max","parseInt","step","parseFloat","style","color","background","padding","borderRadius","marginBottom","total_results","search_time_ms","embedding_dimension","length","map","result","index","voucher_name","similarity_score","toFixed","raw_score","content","voucher_id","metadata","source","created_at","Date","toLocaleDateString","_c26","$RefreshReg$"],"sources":["/Users/1-tiennv-m/1MG/Projects/LLM/voucher_assistant/frontend/src/components/VectorSearch.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { FiSearch, FiLoader, FiZap, FiFilter, FiCpu } from 'react-icons/fi';\nimport { voucherApi } from '../services/api';\n\n// Types for Vector Search\ninterface VectorSearchResult {\n  voucher_id: string;\n  voucher_name: string;\n  content: string;\n  similarity_score: number;\n  raw_score: number;\n  metadata: Record<string, any>;\n  created_at?: string;\n  search_query: string;\n}\n\ninterface VectorSearchResponse {\n  query: string;\n  results: VectorSearchResult[];\n  total_results: number;\n  search_time_ms: number;\n  embedding_dimension: number;\n}\n\n// Styled Components\nconst SearchContainer = styled.div`\n  background: white;\n  border-radius: 16px;\n  border: 1px solid #e0e0e0;\n  padding: 24px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  margin-bottom: 24px;\n`;\n\nconst SearchHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 20px;\n`;\n\nconst SearchTitle = styled.h2`\n  margin: 0;\n  color: #333;\n  font-size: 24px;\n  font-weight: 600;\n`;\n\nconst SearchIcon = styled.div`\n  width: 40px;\n  height: 40px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 20px;\n`;\n\nconst SearchInputContainer = styled.div`\n  position: relative;\n  margin-bottom: 16px;\n`;\n\nconst SearchInput = styled.input`\n  width: 100%;\n  padding: 16px 52px 16px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 12px;\n  font-size: 16px;\n  background: #fafafa;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    background: white;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  }\n\n  &::placeholder {\n    color: #999;\n  }\n`;\n\nconst SearchButton = styled.button`\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  border-radius: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-50%) scale(1.05);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: translateY(-50%);\n  }\n`;\n\nconst SearchOptions = styled.div`\n  display: flex;\n  gap: 16px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n`;\n\nconst OptionGroup = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst OptionLabel = styled.label`\n  font-size: 14px;\n  color: #666;\n  font-weight: 500;\n`;\n\nconst OptionInput = styled.input`\n  padding: 6px 12px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  font-size: 14px;\n  width: 80px;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n  }\n`;\n\nconst SearchModeToggle = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 16px;\n`;\n\nconst ModeButton = styled.button<{ active: boolean }>`\n  padding: 8px 16px;\n  border: 2px solid ${props => props.active ? '#667eea' : '#e0e0e0'};\n  background: ${props => props.active ? '#667eea' : 'white'};\n  color: ${props => props.active ? 'white' : '#666'};\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #667eea;\n    background: ${props => props.active ? '#667eea' : '#f8f9ff'};\n  }\n`;\n\nconst ResultsContainer = styled.div`\n  margin-top: 24px;\n`;\n\nconst ResultsHeader = styled.div`\n  display: flex;\n  justify-content: between;\n  align-items: center;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #f0f0f0;\n`;\n\nconst ResultsInfo = styled.div`\n  color: #666;\n  font-size: 14px;\n`;\n\nconst ResultCard = styled.div`\n  background: #fafafa;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #667eea;\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);\n  }\n`;\n\nconst ResultHeader = styled.div`\n  display: flex;\n  justify-content: between;\n  align-items: flex-start;\n  margin-bottom: 12px;\n`;\n\nconst VoucherName = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 18px;\n  font-weight: 600;\n  flex: 1;\n`;\n\nconst ScoreContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 4px;\n`;\n\nconst SimilarityScore = styled.div<{ score: number }>`\n  background: ${props => {\n    if (props.score >= 0.8) return 'linear-gradient(135deg, #4CAF50, #45a049)';\n    if (props.score >= 0.6) return 'linear-gradient(135deg, #FF9800, #f57c00)';\n    return 'linear-gradient(135deg, #757575, #616161)';\n  }};\n  color: white;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 600;\n`;\n\nconst RawScore = styled.div`\n  font-size: 10px;\n  color: #999;\n`;\n\nconst VoucherContent = styled.div`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 12px;\n  max-height: 100px;\n  overflow: hidden;\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 20px;\n    background: linear-gradient(transparent, #fafafa);\n  }\n`;\n\nconst MetadataContainer = styled.div`\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  margin-top: 12px;\n`;\n\nconst MetadataTag = styled.span`\n  background: #e3f2fd;\n  color: #1976d2;\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  color: #666;\n  font-size: 16px;\n  gap: 12px;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #999;\n  font-size: 16px;\n`;\n\n// Main Component\nconst VectorSearch: React.FC = () => {\n  const [query, setQuery] = useState('');\n  const [searchMode, setSearchMode] = useState<'vector' | 'hybrid'>('vector');\n  const [topK, setTopK] = useState(5);\n  const [minScore, setMinScore] = useState(0.7);\n  const [isLoading, setIsLoading] = useState(false);\n  const [results, setResults] = useState<VectorSearchResponse | null>(null);\n  const [error, setError] = useState('');\n\n  const handleSearch = async () => {\n    if (!query.trim()) return;\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      const searchParams = {\n        query: query.trim(),\n        top_k: topK,\n        min_score: minScore\n      };\n\n      let response;\n      if (searchMode === 'vector') {\n        response = await voucherApi.post('/api/vector-search', searchParams);\n      } else {\n        response = await voucherApi.post('/api/hybrid-search', searchParams);\n      }\n\n      setResults(response.data);\n    } catch (err: any) {\n      setError(err.response?.data?.detail || 'Có lỗi xảy ra khi tìm kiếm');\n      console.error('Search error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  return (\n    <SearchContainer>\n      <SearchHeader>\n        <SearchIcon>\n          <FiCpu />\n        </SearchIcon>\n        <SearchTitle>Vector Search - Tìm kiếm thông minh</SearchTitle>\n      </SearchHeader>\n\n      <SearchModeToggle>\n        <ModeButton \n          active={searchMode === 'vector'} \n          onClick={() => setSearchMode('vector')}\n        >\n          <FiZap />\n          Vector Search\n        </ModeButton>\n        <ModeButton \n          active={searchMode === 'hybrid'} \n          onClick={() => setSearchMode('hybrid')}\n        >\n          <FiFilter />\n          Hybrid Search\n        </ModeButton>\n      </SearchModeToggle>\n\n      <SearchInputContainer>\n        <SearchInput\n          type=\"text\"\n          placeholder=\"Nhập từ khóa tìm kiếm voucher (VD: 'voucher giảm giá RuNam', 'spa massage'...)\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          onKeyPress={handleKeyPress}\n        />\n        <SearchButton \n          onClick={handleSearch} \n          disabled={isLoading || !query.trim()}\n        >\n          {isLoading ? <FiLoader className=\"animate-spin\" /> : <FiSearch />}\n        </SearchButton>\n      </SearchInputContainer>\n\n      <SearchOptions>\n        <OptionGroup>\n          <OptionLabel>Số kết quả:</OptionLabel>\n          <OptionInput\n            type=\"number\"\n            min=\"1\"\n            max=\"20\"\n            value={topK}\n            onChange={(e) => setTopK(parseInt(e.target.value) || 5)}\n          />\n        </OptionGroup>\n        <OptionGroup>\n          <OptionLabel>Độ tương đồng tối thiểu:</OptionLabel>\n          <OptionInput\n            type=\"number\"\n            min=\"0.1\"\n            max=\"1.0\"\n            step=\"0.1\"\n            value={minScore}\n            onChange={(e) => setMinScore(parseFloat(e.target.value) || 0.7)}\n          />\n        </OptionGroup>\n      </SearchOptions>\n\n      {error && (\n        <div style={{ \n          color: '#f44336', \n          background: '#ffebee', \n          padding: '12px', \n          borderRadius: '8px',\n          marginBottom: '16px'\n        }}>\n          {error}\n        </div>\n      )}\n\n      {isLoading && (\n        <LoadingContainer>\n          <FiLoader className=\"animate-spin\" />\n          Đang tìm kiếm...\n        </LoadingContainer>\n      )}\n\n      {results && !isLoading && (\n        <ResultsContainer>\n          <ResultsHeader>\n            <ResultsInfo>\n              Tìm thấy <strong>{results.total_results}</strong> kết quả trong{' '}\n              <strong>{results.search_time_ms}ms</strong> \n              {searchMode === 'vector' && (\n                <> (Embedding dimension: {results.embedding_dimension})</>\n              )}\n            </ResultsInfo>\n          </ResultsHeader>\n\n          {results.results.length === 0 ? (\n            <EmptyState>\n              Không tìm thấy voucher nào phù hợp với từ khóa \"{query}\"\n            </EmptyState>\n          ) : (\n            results.results.map((result, index) => (\n              <ResultCard key={`${result.voucher_id}-${index}`}>\n                <ResultHeader>\n                  <VoucherName>{result.voucher_name}</VoucherName>\n                  <ScoreContainer>\n                    <SimilarityScore score={result.similarity_score}>\n                      {(result.similarity_score * 100).toFixed(1)}% phù hợp\n                    </SimilarityScore>\n                    <RawScore>Raw: {result.raw_score.toFixed(3)}</RawScore>\n                  </ScoreContainer>\n                </ResultHeader>\n\n                <VoucherContent>\n                  {result.content}\n                </VoucherContent>\n\n                <MetadataContainer>\n                  <MetadataTag>ID: {result.voucher_id}</MetadataTag>\n                  {result.metadata.source && (\n                    <MetadataTag>Nguồn: {result.metadata.source}</MetadataTag>\n                  )}\n                  {result.created_at && (\n                    <MetadataTag>\n                      Ngày tạo: {new Date(result.created_at).toLocaleDateString('vi-VN')}\n                    </MetadataTag>\n                  )}\n                </MetadataContainer>\n              </ResultCard>\n            ))\n          )}\n        </ResultsContainer>\n      )}\n    </SearchContainer>\n  );\n};\n\nexport default VectorSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}