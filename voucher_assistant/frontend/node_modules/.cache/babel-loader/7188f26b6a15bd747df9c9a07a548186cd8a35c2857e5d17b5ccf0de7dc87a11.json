{"ast":null,"code":"import React,{useState}from'react';import styled from'styled-components';import{FiSearch,FiLoader,FiZap,FiFilter,FiCpu}from'react-icons/fi';import{voucherApi}from'../services/api';// Types for Vector Search\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";// Styled Components\nconst SearchContainer=styled.div`\n  background: white;\n  border-radius: 16px;\n  border: 1px solid #e0e0e0;\n  padding: 24px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  margin-bottom: 24px;\n`;const SearchHeader=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 20px;\n`;const SearchTitle=styled.h2`\n  margin: 0;\n  color: #333;\n  font-size: 24px;\n  font-weight: 600;\n`;const SearchIcon=styled.div`\n  width: 40px;\n  height: 40px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 20px;\n`;const SearchInputContainer=styled.div`\n  position: relative;\n  margin-bottom: 16px;\n`;const SearchInput=styled.input`\n  width: 100%;\n  padding: 16px 52px 16px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 12px;\n  font-size: 16px;\n  background: #fafafa;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    background: white;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  }\n\n  &::placeholder {\n    color: #999;\n  }\n`;const SearchButton=styled.button`\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  border-radius: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-50%) scale(1.05);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: translateY(-50%);\n  }\n`;const SearchOptions=styled.div`\n  display: flex;\n  gap: 16px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n`;const OptionGroup=styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;const OptionLabel=styled.label`\n  font-size: 14px;\n  color: #666;\n  font-weight: 500;\n`;const OptionInput=styled.input`\n  padding: 6px 12px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  font-size: 14px;\n  width: 80px;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n  }\n`;const SearchModeToggle=styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 16px;\n`;const ModeButton=styled.button`\n  padding: 8px 16px;\n  border: 2px solid ${props=>props.active?'#667eea':'#e0e0e0'};\n  background: ${props=>props.active?'#667eea':'white'};\n  color: ${props=>props.active?'white':'#666'};\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #667eea;\n    background: ${props=>props.active?'#667eea':'#f8f9ff'};\n  }\n`;const ResultsContainer=styled.div`\n  margin-top: 24px;\n`;const ResultsHeader=styled.div`\n  display: flex;\n  justify-content: between;\n  align-items: center;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #f0f0f0;\n`;const ResultsInfo=styled.div`\n  color: #666;\n  font-size: 14px;\n`;const ResultCard=styled.div`\n  background: #fafafa;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #667eea;\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);\n  }\n`;const ResultHeader=styled.div`\n  display: flex;\n  justify-content: between;\n  align-items: flex-start;\n  margin-bottom: 12px;\n`;const VoucherName=styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 18px;\n  font-weight: 600;\n  flex: 1;\n`;const ScoreContainer=styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 4px;\n`;const SimilarityScore=styled.div`\n  background: ${props=>{if(props.score>=0.8)return'linear-gradient(135deg, #4CAF50, #45a049)';if(props.score>=0.6)return'linear-gradient(135deg, #FF9800, #f57c00)';return'linear-gradient(135deg, #757575, #616161)';}};\n  color: white;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 600;\n`;const RawScore=styled.div`\n  font-size: 10px;\n  color: #999;\n`;const VoucherContent=styled.div`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 12px;\n  max-height: 100px;\n  overflow: hidden;\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 20px;\n    background: linear-gradient(transparent, #fafafa);\n  }\n`;const MetadataContainer=styled.div`\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  margin-top: 12px;\n`;const MetadataTag=styled.span`\n  background: #e3f2fd;\n  color: #1976d2;\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n`;const LoadingContainer=styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  color: #666;\n  font-size: 16px;\n  gap: 12px;\n`;const EmptyState=styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #999;\n  font-size: 16px;\n`;// Main Component\nconst VectorSearch=()=>{const[query,setQuery]=useState('');const[searchMode,setSearchMode]=useState('vector');const[topK,setTopK]=useState(5);const[minScore,setMinScore]=useState(0.7);const[isLoading,setIsLoading]=useState(false);const[results,setResults]=useState(null);const[error,setError]=useState('');const handleSearch=async()=>{if(!query.trim())return;setIsLoading(true);setError('');try{const searchParams={query:query.trim(),top_k:topK,min_score:minScore};let response;if(searchMode==='vector'){response=await voucherApi.post('/api/vector-search',searchParams);}else{response=await voucherApi.post('/api/hybrid-search',searchParams);}setResults(response.data);}catch(err){var _err$response,_err$response$data;setError(((_err$response=err.response)===null||_err$response===void 0?void 0:(_err$response$data=_err$response.data)===null||_err$response$data===void 0?void 0:_err$response$data.detail)||'C√≥ l·ªói x·∫£y ra khi t√¨m ki·∫øm');console.error('Search error:',err);}finally{setIsLoading(false);}};const handleKeyPress=e=>{if(e.key==='Enter'){handleSearch();}};return/*#__PURE__*/_jsxs(SearchContainer,{children:[/*#__PURE__*/_jsxs(SearchHeader,{children:[/*#__PURE__*/_jsx(SearchIcon,{children:/*#__PURE__*/_jsx(FiCpu,{})}),/*#__PURE__*/_jsx(SearchTitle,{children:\"Vector Search - T\\xECm ki\\u1EBFm th\\xF4ng minh\"})]}),/*#__PURE__*/_jsxs(SearchModeToggle,{children:[/*#__PURE__*/_jsxs(ModeButton,{active:searchMode==='vector',onClick:()=>setSearchMode('vector'),children:[/*#__PURE__*/_jsx(FiZap,{}),\"Vector Search\"]}),/*#__PURE__*/_jsxs(ModeButton,{active:searchMode==='hybrid',onClick:()=>setSearchMode('hybrid'),children:[/*#__PURE__*/_jsx(FiFilter,{}),\"Hybrid Search\"]})]}),/*#__PURE__*/_jsxs(SearchInputContainer,{children:[/*#__PURE__*/_jsx(SearchInput,{type:\"text\",placeholder:\"Nh\\u1EADp t\\u1EEB kh\\xF3a t\\xECm ki\\u1EBFm voucher (VD: 'voucher gi\\u1EA3m gi\\xE1 RuNam', 'spa massage'...)\",value:query,onChange:e=>setQuery(e.target.value),onKeyPress:handleKeyPress}),/*#__PURE__*/_jsx(SearchButton,{onClick:handleSearch,disabled:isLoading||!query.trim(),children:isLoading?/*#__PURE__*/_jsx(FiLoader,{className:\"animate-spin\"}):/*#__PURE__*/_jsx(FiSearch,{})})]}),/*#__PURE__*/_jsxs(SearchOptions,{children:[/*#__PURE__*/_jsxs(OptionGroup,{children:[/*#__PURE__*/_jsx(OptionLabel,{children:\"S\\u1ED1 k\\u1EBFt qu\\u1EA3:\"}),/*#__PURE__*/_jsx(OptionInput,{type:\"number\",min:\"1\",max:\"20\",value:topK,onChange:e=>setTopK(parseInt(e.target.value)||5)})]}),/*#__PURE__*/_jsxs(OptionGroup,{children:[/*#__PURE__*/_jsx(OptionLabel,{children:\"\\u0110\\u1ED9 t\\u01B0\\u01A1ng \\u0111\\u1ED3ng t\\u1ED1i thi\\u1EC3u:\"}),/*#__PURE__*/_jsx(OptionInput,{type:\"number\",min:\"0.1\",max:\"1.0\",step:\"0.1\",value:minScore,onChange:e=>setMinScore(parseFloat(e.target.value)||0.7)})]})]}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#f44336',background:'#ffebee',padding:'12px',borderRadius:'8px',marginBottom:'16px'},children:error}),isLoading&&/*#__PURE__*/_jsxs(LoadingContainer,{children:[/*#__PURE__*/_jsx(FiLoader,{className:\"animate-spin\"}),\"\\u0110ang t\\xECm ki\\u1EBFm...\"]}),results&&!isLoading&&/*#__PURE__*/_jsxs(ResultsContainer,{children:[/*#__PURE__*/_jsx(ResultsHeader,{children:/*#__PURE__*/_jsx(ResultsInfo,{children:searchMode==='vector'?/*#__PURE__*/_jsxs(_Fragment,{children:[\"T\\xECm th\\u1EA5y \",/*#__PURE__*/_jsx(\"strong\",{children:results.total_results}),\" k\\u1EBFt qu\\u1EA3 trong\",' ',/*#__PURE__*/_jsxs(\"strong\",{children:[results.search_time_ms,\"ms\"]}),\"(Embedding dimension: \",results.embedding_dimension,\")\"]}):/*#__PURE__*/_jsxs(_Fragment,{children:[\"T\\xECm th\\u1EA5y \",/*#__PURE__*/_jsx(\"strong\",{children:results.total_vector_results}),\" k\\u1EBFt qu\\u1EA3 vector + \",/*#__PURE__*/_jsx(\"strong\",{children:results.total_text_results}),\" k\\u1EBFt qu\\u1EA3 text trong\",' ',/*#__PURE__*/_jsxs(\"strong\",{children:[results.search_time_ms,\"ms\"]})]})})}),searchMode==='vector'?// Vector Search Results\nresults.results&&results.results.length===0?/*#__PURE__*/_jsxs(EmptyState,{children:[\"Kh\\xF4ng t\\xECm th\\u1EA5y voucher n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi t\\u1EEB kh\\xF3a \\\"\",query,\"\\\"\"]}):results.results&&results.results.map((result,index)=>/*#__PURE__*/_jsxs(ResultCard,{children:[/*#__PURE__*/_jsxs(ResultHeader,{children:[/*#__PURE__*/_jsx(VoucherName,{children:result.voucher_name}),/*#__PURE__*/_jsxs(ScoreContainer,{children:[/*#__PURE__*/_jsxs(SimilarityScore,{score:result.similarity_score,children:[(result.similarity_score*100).toFixed(1),\"% ph\\xF9 h\\u1EE3p\"]}),/*#__PURE__*/_jsxs(RawScore,{children:[\"Raw: \",result.raw_score.toFixed(3)]})]})]}),/*#__PURE__*/_jsx(VoucherContent,{children:result.content}),/*#__PURE__*/_jsxs(MetadataContainer,{children:[/*#__PURE__*/_jsxs(MetadataTag,{children:[\"ID: \",result.voucher_id]}),result.metadata.source&&/*#__PURE__*/_jsxs(MetadataTag,{children:[\"Ngu\\u1ED3n: \",result.metadata.source]}),result.created_at&&/*#__PURE__*/_jsxs(MetadataTag,{children:[\"Ng\\xE0y t\\u1EA1o: \",new Date(result.created_at).toLocaleDateString('vi-VN')]})]})]},`${result.voucher_id}-${index}`)):/*#__PURE__*/// Hybrid Search Results\n_jsxs(_Fragment,{children:[results.vector_results&&results.vector_results.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',color:'white',padding:'12px 16px',borderRadius:'8px',marginBottom:'16px',fontWeight:'bold'},children:[\"\\uD83D\\uDD0D K\\u1EBFt qu\\u1EA3 Vector Search (Ng\\u1EEF ngh\\u0129a) - \",results.total_vector_results,\" voucher\"]}),results.vector_results.map((result,index)=>/*#__PURE__*/_jsxs(ResultCard,{children:[/*#__PURE__*/_jsxs(ResultHeader,{children:[/*#__PURE__*/_jsx(VoucherName,{children:result.voucher_name}),/*#__PURE__*/_jsxs(ScoreContainer,{children:[/*#__PURE__*/_jsxs(SimilarityScore,{score:result.similarity_score,children:[(result.similarity_score*100).toFixed(1),\"% ph\\xF9 h\\u1EE3p\"]}),/*#__PURE__*/_jsxs(RawScore,{children:[\"Raw: \",result.raw_score.toFixed(3)]})]})]}),/*#__PURE__*/_jsx(VoucherContent,{children:result.content}),/*#__PURE__*/_jsxs(MetadataContainer,{children:[/*#__PURE__*/_jsxs(MetadataTag,{children:[\"ID: \",result.voucher_id]}),result.metadata.location&&/*#__PURE__*/_jsxs(MetadataTag,{children:[\"\\uD83D\\uDCCD \",result.metadata.location]}),result.created_at&&/*#__PURE__*/_jsxs(MetadataTag,{children:[\"Ng\\xE0y t\\u1EA1o: \",new Date(result.created_at).toLocaleDateString('vi-VN')]})]})]},`vector-${result.voucher_id}-${index}`))]}),results.text_results&&results.text_results.length>0&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{background:'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)',color:'white',padding:'12px 16px',borderRadius:'8px',marginBottom:'16px',fontWeight:'bold'},children:[\"\\uD83D\\uDCDD K\\u1EBFt qu\\u1EA3 Text Search (T\\u1EEB kh\\xF3a) - \",results.total_text_results,\" voucher\"]}),results.text_results.map((result,index)=>{var _result$text_score,_result$text_score2;return/*#__PURE__*/_jsxs(ResultCard,{children:[/*#__PURE__*/_jsxs(ResultHeader,{children:[/*#__PURE__*/_jsx(VoucherName,{children:result.voucher_name}),/*#__PURE__*/_jsx(ScoreContainer,{children:/*#__PURE__*/_jsxs(SimilarityScore,{score:((_result$text_score=result.text_score)!==null&&_result$text_score!==void 0?_result$text_score:0)/20,children:[\"Text Score: \",((_result$text_score2=result.text_score)!==null&&_result$text_score2!==void 0?_result$text_score2:0).toFixed(2)]})})]}),/*#__PURE__*/_jsx(VoucherContent,{children:result.content}),/*#__PURE__*/_jsxs(MetadataContainer,{children:[/*#__PURE__*/_jsxs(MetadataTag,{children:[\"ID: \",result.voucher_id]}),result.metadata.location&&/*#__PURE__*/_jsxs(MetadataTag,{children:[\"\\uD83D\\uDCCD \",result.metadata.location]})]})]},`text-${result.voucher_id}-${index}`);})]}),(!results.vector_results||results.vector_results.length===0)&&(!results.text_results||results.text_results.length===0)&&/*#__PURE__*/_jsxs(EmptyState,{children:[\"Kh\\xF4ng t\\xECm th\\u1EA5y voucher n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi t\\u1EEB kh\\xF3a \\\"\",query,\"\\\"\"]})]})]})]});};export default VectorSearch;","map":{"version":3,"names":["React","useState","styled","FiSearch","FiLoader","FiZap","FiFilter","FiCpu","voucherApi","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","SearchContainer","div","SearchHeader","SearchTitle","h2","SearchIcon","SearchInputContainer","SearchInput","input","SearchButton","button","SearchOptions","OptionGroup","OptionLabel","label","OptionInput","SearchModeToggle","ModeButton","props","active","ResultsContainer","ResultsHeader","ResultsInfo","ResultCard","ResultHeader","VoucherName","h3","ScoreContainer","SimilarityScore","score","RawScore","VoucherContent","MetadataContainer","MetadataTag","span","LoadingContainer","EmptyState","VectorSearch","query","setQuery","searchMode","setSearchMode","topK","setTopK","minScore","setMinScore","isLoading","setIsLoading","results","setResults","error","setError","handleSearch","trim","searchParams","top_k","min_score","response","post","data","err","_err$response","_err$response$data","detail","console","handleKeyPress","e","key","children","onClick","type","placeholder","value","onChange","target","onKeyPress","disabled","className","min","max","parseInt","step","parseFloat","style","color","background","padding","borderRadius","marginBottom","total_results","search_time_ms","embedding_dimension","total_vector_results","total_text_results","length","map","result","index","voucher_name","similarity_score","toFixed","raw_score","content","voucher_id","metadata","source","created_at","Date","toLocaleDateString","vector_results","fontWeight","location","text_results","_result$text_score","_result$text_score2","text_score"],"sources":["/Users/1-tiennv-m/1MG/Projects/LLM/voucher_assistant/frontend/src/components/VectorSearch.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { FiSearch, FiLoader, FiZap, FiFilter, FiCpu } from 'react-icons/fi';\nimport { voucherApi } from '../services/api';\n\n// Types for Vector Search\ninterface VectorSearchResult {\n  voucher_id: string;\n  voucher_name: string;\n  content: string;\n  similarity_score: number;\n  raw_score: number;\n  metadata: Record<string, any>;\n  created_at?: string;\n  search_query: string;\n}\n\ninterface HybridVectorSearchResult extends VectorSearchResult {\n  text_score?: number;\n}\n\ninterface VectorSearchResponse {\n  query: string;\n  results: VectorSearchResult[];\n  total_results: number;\n  search_time_ms: number;\n  embedding_dimension: number;\n\n  // Hybrid search fields (optional, only present in hybrid mode)\n  total_vector_results?: number;\n  total_text_results?: number;\n  vector_results?: VectorSearchResult[];\n  text_results?: HybridVectorSearchResult[];\n}\n\n// Styled Components\nconst SearchContainer = styled.div`\n  background: white;\n  border-radius: 16px;\n  border: 1px solid #e0e0e0;\n  padding: 24px;\n  box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);\n  margin-bottom: 24px;\n`;\n\nconst SearchHeader = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 12px;\n  margin-bottom: 20px;\n`;\n\nconst SearchTitle = styled.h2`\n  margin: 0;\n  color: #333;\n  font-size: 24px;\n  font-weight: 600;\n`;\n\nconst SearchIcon = styled.div`\n  width: 40px;\n  height: 40px;\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border-radius: 12px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  font-size: 20px;\n`;\n\nconst SearchInputContainer = styled.div`\n  position: relative;\n  margin-bottom: 16px;\n`;\n\nconst SearchInput = styled.input`\n  width: 100%;\n  padding: 16px 52px 16px 20px;\n  border: 2px solid #e0e0e0;\n  border-radius: 12px;\n  font-size: 16px;\n  background: #fafafa;\n  transition: all 0.3s ease;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    background: white;\n    box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);\n  }\n\n  &::placeholder {\n    color: #999;\n  }\n`;\n\nconst SearchButton = styled.button`\n  position: absolute;\n  right: 8px;\n  top: 50%;\n  transform: translateY(-50%);\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  border: none;\n  border-radius: 8px;\n  width: 40px;\n  height: 40px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  color: white;\n  cursor: pointer;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-50%) scale(1.05);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n  }\n\n  &:disabled {\n    opacity: 0.6;\n    cursor: not-allowed;\n    transform: translateY(-50%);\n  }\n`;\n\nconst SearchOptions = styled.div`\n  display: flex;\n  gap: 16px;\n  margin-bottom: 20px;\n  flex-wrap: wrap;\n`;\n\nconst OptionGroup = styled.div`\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst OptionLabel = styled.label`\n  font-size: 14px;\n  color: #666;\n  font-weight: 500;\n`;\n\nconst OptionInput = styled.input`\n  padding: 6px 12px;\n  border: 1px solid #ddd;\n  border-radius: 6px;\n  font-size: 14px;\n  width: 80px;\n\n  &:focus {\n    outline: none;\n    border-color: #667eea;\n  }\n`;\n\nconst SearchModeToggle = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 16px;\n`;\n\nconst ModeButton = styled.button<{ active: boolean }>`\n  padding: 8px 16px;\n  border: 2px solid ${props => props.active ? '#667eea' : '#e0e0e0'};\n  background: ${props => props.active ? '#667eea' : 'white'};\n  color: ${props => props.active ? 'white' : '#666'};\n  border-radius: 8px;\n  font-size: 14px;\n  font-weight: 500;\n  cursor: pointer;\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #667eea;\n    background: ${props => props.active ? '#667eea' : '#f8f9ff'};\n  }\n`;\n\nconst ResultsContainer = styled.div`\n  margin-top: 24px;\n`;\n\nconst ResultsHeader = styled.div`\n  display: flex;\n  justify-content: between;\n  align-items: center;\n  margin-bottom: 16px;\n  padding-bottom: 12px;\n  border-bottom: 2px solid #f0f0f0;\n`;\n\nconst ResultsInfo = styled.div`\n  color: #666;\n  font-size: 14px;\n`;\n\nconst ResultCard = styled.div`\n  background: #fafafa;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  padding: 20px;\n  margin-bottom: 16px;\n  transition: all 0.3s ease;\n\n  &:hover {\n    border-color: #667eea;\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.1);\n  }\n`;\n\nconst ResultHeader = styled.div`\n  display: flex;\n  justify-content: between;\n  align-items: flex-start;\n  margin-bottom: 12px;\n`;\n\nconst VoucherName = styled.h3`\n  margin: 0;\n  color: #333;\n  font-size: 18px;\n  font-weight: 600;\n  flex: 1;\n`;\n\nconst ScoreContainer = styled.div`\n  display: flex;\n  flex-direction: column;\n  align-items: flex-end;\n  gap: 4px;\n`;\n\nconst SimilarityScore = styled.div<{ score: number }>`\n  background: ${props => {\n    if (props.score >= 0.8) return 'linear-gradient(135deg, #4CAF50, #45a049)';\n    if (props.score >= 0.6) return 'linear-gradient(135deg, #FF9800, #f57c00)';\n    return 'linear-gradient(135deg, #757575, #616161)';\n  }};\n  color: white;\n  padding: 4px 12px;\n  border-radius: 16px;\n  font-size: 12px;\n  font-weight: 600;\n`;\n\nconst RawScore = styled.div`\n  font-size: 10px;\n  color: #999;\n`;\n\nconst VoucherContent = styled.div`\n  color: #555;\n  font-size: 14px;\n  line-height: 1.5;\n  margin-bottom: 12px;\n  max-height: 100px;\n  overflow: hidden;\n  position: relative;\n\n  &::after {\n    content: '';\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 20px;\n    background: linear-gradient(transparent, #fafafa);\n  }\n`;\n\nconst MetadataContainer = styled.div`\n  display: flex;\n  gap: 12px;\n  flex-wrap: wrap;\n  margin-top: 12px;\n`;\n\nconst MetadataTag = styled.span`\n  background: #e3f2fd;\n  color: #1976d2;\n  padding: 4px 8px;\n  border-radius: 6px;\n  font-size: 12px;\n  font-weight: 500;\n`;\n\nconst LoadingContainer = styled.div`\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  padding: 40px;\n  color: #666;\n  font-size: 16px;\n  gap: 12px;\n`;\n\nconst EmptyState = styled.div`\n  text-align: center;\n  padding: 40px;\n  color: #999;\n  font-size: 16px;\n`;\n\n// Main Component\nconst VectorSearch: React.FC = () => {\n  const [query, setQuery] = useState('');\n  const [searchMode, setSearchMode] = useState<'vector' | 'hybrid'>('vector');\n  const [topK, setTopK] = useState(5);\n  const [minScore, setMinScore] = useState(0.7);\n  const [isLoading, setIsLoading] = useState(false);\n  const [results, setResults] = useState<VectorSearchResponse | null>(null);\n  const [error, setError] = useState('');\n\n  const handleSearch = async () => {\n    if (!query.trim()) return;\n\n    setIsLoading(true);\n    setError('');\n\n    try {\n      const searchParams = {\n        query: query.trim(),\n        top_k: topK,\n        min_score: minScore\n      };\n\n      let response;\n      if (searchMode === 'vector') {\n        response = await voucherApi.post('/api/vector-search', searchParams);\n      } else {\n        response = await voucherApi.post('/api/hybrid-search', searchParams);\n      }\n\n      setResults(response.data);\n    } catch (err: any) {\n      setError(err.response?.data?.detail || 'C√≥ l·ªói x·∫£y ra khi t√¨m ki·∫øm');\n      console.error('Search error:', err);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter') {\n      handleSearch();\n    }\n  };\n\n  return (\n    <SearchContainer>\n      <SearchHeader>\n        <SearchIcon>\n          <FiCpu />\n        </SearchIcon>\n        <SearchTitle>Vector Search - T√¨m ki·∫øm th√¥ng minh</SearchTitle>\n      </SearchHeader>\n\n      <SearchModeToggle>\n        <ModeButton \n          active={searchMode === 'vector'} \n          onClick={() => setSearchMode('vector')}\n        >\n          <FiZap />\n          Vector Search\n        </ModeButton>\n        <ModeButton \n          active={searchMode === 'hybrid'} \n          onClick={() => setSearchMode('hybrid')}\n        >\n          <FiFilter />\n          Hybrid Search\n        </ModeButton>\n      </SearchModeToggle>\n\n      <SearchInputContainer>\n        <SearchInput\n          type=\"text\"\n          placeholder=\"Nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm voucher (VD: 'voucher gi·∫£m gi√° RuNam', 'spa massage'...)\"\n          value={query}\n          onChange={(e) => setQuery(e.target.value)}\n          onKeyPress={handleKeyPress}\n        />\n        <SearchButton \n          onClick={handleSearch} \n          disabled={isLoading || !query.trim()}\n        >\n          {isLoading ? <FiLoader className=\"animate-spin\" /> : <FiSearch />}\n        </SearchButton>\n      </SearchInputContainer>\n\n      <SearchOptions>\n        <OptionGroup>\n          <OptionLabel>S·ªë k·∫øt qu·∫£:</OptionLabel>\n          <OptionInput\n            type=\"number\"\n            min=\"1\"\n            max=\"20\"\n            value={topK}\n            onChange={(e) => setTopK(parseInt(e.target.value) || 5)}\n          />\n        </OptionGroup>\n        <OptionGroup>\n          <OptionLabel>ƒê·ªô t∆∞∆°ng ƒë·ªìng t·ªëi thi·ªÉu:</OptionLabel>\n          <OptionInput\n            type=\"number\"\n            min=\"0.1\"\n            max=\"1.0\"\n            step=\"0.1\"\n            value={minScore}\n            onChange={(e) => setMinScore(parseFloat(e.target.value) || 0.7)}\n          />\n        </OptionGroup>\n      </SearchOptions>\n\n      {error && (\n        <div style={{ \n          color: '#f44336', \n          background: '#ffebee', \n          padding: '12px', \n          borderRadius: '8px',\n          marginBottom: '16px'\n        }}>\n          {error}\n        </div>\n      )}\n\n      {isLoading && (\n        <LoadingContainer>\n          <FiLoader className=\"animate-spin\" />\n          ƒêang t√¨m ki·∫øm...\n        </LoadingContainer>\n      )}\n\n      {results && !isLoading && (\n        <ResultsContainer>\n          <ResultsHeader>\n            <ResultsInfo>\n              {searchMode === 'vector' ? (\n                <>\n                  T√¨m th·∫•y <strong>{results.total_results}</strong> k·∫øt qu·∫£ trong{' '}\n                  <strong>{results.search_time_ms}ms</strong> \n                  (Embedding dimension: {results.embedding_dimension})\n                </>\n              ) : (\n                <>\n                  T√¨m th·∫•y <strong>{results.total_vector_results}</strong> k·∫øt qu·∫£ vector + <strong>{results.total_text_results}</strong> k·∫øt qu·∫£ text trong{' '}\n                  <strong>{results.search_time_ms}ms</strong>\n                </>\n              )}\n            </ResultsInfo>\n          </ResultsHeader>\n\n          {searchMode === 'vector' ? (\n            // Vector Search Results\n            results.results && results.results.length === 0 ? (\n              <EmptyState>\n                Kh√¥ng t√¨m th·∫•y voucher n√†o ph√π h·ª£p v·ªõi t·ª´ kh√≥a \"{query}\"\n              </EmptyState>\n            ) : (\n              results.results && results.results.map((result, index) => (\n                <ResultCard key={`${result.voucher_id}-${index}`}>\n                  <ResultHeader>\n                    <VoucherName>{result.voucher_name}</VoucherName>\n                    <ScoreContainer>\n                      <SimilarityScore score={result.similarity_score}>\n                        {(result.similarity_score * 100).toFixed(1)}% ph√π h·ª£p\n                      </SimilarityScore>\n                      <RawScore>Raw: {result.raw_score.toFixed(3)}</RawScore>\n                    </ScoreContainer>\n                  </ResultHeader>\n\n                  <VoucherContent>\n                    {result.content}\n                  </VoucherContent>\n\n                  <MetadataContainer>\n                    <MetadataTag>ID: {result.voucher_id}</MetadataTag>\n                    {result.metadata.source && (\n                      <MetadataTag>Ngu·ªìn: {result.metadata.source}</MetadataTag>\n                    )}\n                    {result.created_at && (\n                      <MetadataTag>\n                        Ng√†y t·∫°o: {new Date(result.created_at).toLocaleDateString('vi-VN')}\n                      </MetadataTag>\n                    )}\n                  </MetadataContainer>\n                </ResultCard>\n              ))\n            )\n          ) : (\n            // Hybrid Search Results\n            <>\n              {/* Vector Results Section */}\n              {results.vector_results && results.vector_results.length > 0 && (\n                <>\n                  <div style={{ \n                    background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)', \n                    color: 'white', \n                    padding: '12px 16px', \n                    borderRadius: '8px', \n                    marginBottom: '16px',\n                    fontWeight: 'bold'\n                  }}>\n                    üîç K·∫øt qu·∫£ Vector Search (Ng·ªØ nghƒ©a) - {results.total_vector_results} voucher\n                  </div>\n                  {results.vector_results.map((result, index) => (\n                    <ResultCard key={`vector-${result.voucher_id}-${index}`}>\n                      <ResultHeader>\n                        <VoucherName>{result.voucher_name}</VoucherName>\n                        <ScoreContainer>\n                          <SimilarityScore score={result.similarity_score}>\n                            {(result.similarity_score * 100).toFixed(1)}% ph√π h·ª£p\n                          </SimilarityScore>\n                          <RawScore>Raw: {result.raw_score.toFixed(3)}</RawScore>\n                        </ScoreContainer>\n                      </ResultHeader>\n\n                      <VoucherContent>\n                        {result.content}\n                      </VoucherContent>\n\n                      <MetadataContainer>\n                        <MetadataTag>ID: {result.voucher_id}</MetadataTag>\n                        {result.metadata.location && (\n                          <MetadataTag>üìç {result.metadata.location}</MetadataTag>\n                        )}\n                        {result.created_at && (\n                          <MetadataTag>\n                            Ng√†y t·∫°o: {new Date(result.created_at).toLocaleDateString('vi-VN')}\n                          </MetadataTag>\n                        )}\n                      </MetadataContainer>\n                    </ResultCard>\n                  ))}\n                </>\n              )}\n\n              {/* Text Results Section */}\n              {results.text_results && results.text_results.length > 0 && (\n                <>\n                  <div style={{ \n                    background: 'linear-gradient(135deg, #11998e 0%, #38ef7d 100%)', \n                    color: 'white', \n                    padding: '12px 16px', \n                    borderRadius: '8px', \n                    marginBottom: '16px',\n                    fontWeight: 'bold'\n                  }}>\n                    üìù K·∫øt qu·∫£ Text Search (T·ª´ kh√≥a) - {results.total_text_results} voucher\n                  </div>\n                  {results.text_results.map((result, index) => (\n                    <ResultCard key={`text-${result.voucher_id}-${index}`}>\n                      <ResultHeader>\n                        <VoucherName>{result.voucher_name}</VoucherName>\n                        <ScoreContainer>\n                          <SimilarityScore score={(result.text_score ?? 0) / 20}>\n                            Text Score: {(result.text_score ?? 0).toFixed(2)}\n                          </SimilarityScore>\n                        </ScoreContainer>\n                      </ResultHeader>\n\n                      <VoucherContent>\n                        {result.content}\n                      </VoucherContent>\n\n                      <MetadataContainer>\n                        <MetadataTag>ID: {result.voucher_id}</MetadataTag>\n                        {result.metadata.location && (\n                          <MetadataTag>üìç {result.metadata.location}</MetadataTag>\n                        )}\n                      </MetadataContainer>\n                    </ResultCard>\n                  ))}\n                </>\n              )}\n\n              {(!results.vector_results || results.vector_results.length === 0) && \n               (!results.text_results || results.text_results.length === 0) && (\n                <EmptyState>\n                  Kh√¥ng t√¨m th·∫•y voucher n√†o ph√π h·ª£p v·ªõi t·ª´ kh√≥a \"{query}\"\n                </EmptyState>\n              )}\n            </>\n          )}\n        </ResultsContainer>\n      )}\n    </SearchContainer>\n  );\n};\n\nexport default VectorSearch;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,MAAM,KAAM,mBAAmB,CACtC,OAASC,QAAQ,CAAEC,QAAQ,CAAEC,KAAK,CAAEC,QAAQ,CAAEC,KAAK,KAAQ,gBAAgB,CAC3E,OAASC,UAAU,KAAQ,iBAAiB,CAE5C;AAAA,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBA8BA;AACA,KAAM,CAAAC,eAAe,CAAGb,MAAM,CAACc,GAAG;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGf,MAAM,CAACc,GAAG;AAC/B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAE,WAAW,CAAGhB,MAAM,CAACiB,EAAE;AAC7B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,UAAU,CAAGlB,MAAM,CAACc,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAK,oBAAoB,CAAGnB,MAAM,CAACc,GAAG;AACvC;AACA;AACA,CAAC,CAED,KAAM,CAAAM,WAAW,CAAGpB,MAAM,CAACqB,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,YAAY,CAAGtB,MAAM,CAACuB,MAAM;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,aAAa,CAAGxB,MAAM,CAACc,GAAG;AAChC;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAW,WAAW,CAAGzB,MAAM,CAACc,GAAG;AAC9B;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAY,WAAW,CAAG1B,MAAM,CAAC2B,KAAK;AAChC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,WAAW,CAAG5B,MAAM,CAACqB,KAAK;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAQ,gBAAgB,CAAG7B,MAAM,CAACc,GAAG;AACnC;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAgB,UAAU,CAAG9B,MAAM,CAACuB,MAA2B;AACrD;AACA,sBAAsBQ,KAAK,EAAIA,KAAK,CAACC,MAAM,CAAG,SAAS,CAAG,SAAS;AACnE,gBAAgBD,KAAK,EAAIA,KAAK,CAACC,MAAM,CAAG,SAAS,CAAG,OAAO;AAC3D,WAAWD,KAAK,EAAIA,KAAK,CAACC,MAAM,CAAG,OAAO,CAAG,MAAM;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAkBD,KAAK,EAAIA,KAAK,CAACC,MAAM,CAAG,SAAS,CAAG,SAAS;AAC/D;AACA,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGjC,MAAM,CAACc,GAAG;AACnC;AACA,CAAC,CAED,KAAM,CAAAoB,aAAa,CAAGlC,MAAM,CAACc,GAAG;AAChC;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAqB,WAAW,CAAGnC,MAAM,CAACc,GAAG;AAC9B;AACA;AACA,CAAC,CAED,KAAM,CAAAsB,UAAU,CAAGpC,MAAM,CAACc,GAAG;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAuB,YAAY,CAAGrC,MAAM,CAACc,GAAG;AAC/B;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAwB,WAAW,CAAGtC,MAAM,CAACuC,EAAE;AAC7B;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,cAAc,CAAGxC,MAAM,CAACc,GAAG;AACjC;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA2B,eAAe,CAAGzC,MAAM,CAACc,GAAsB;AACrD,gBAAgBiB,KAAK,EAAI,CACrB,GAAIA,KAAK,CAACW,KAAK,EAAI,GAAG,CAAE,MAAO,2CAA2C,CAC1E,GAAIX,KAAK,CAACW,KAAK,EAAI,GAAG,CAAE,MAAO,2CAA2C,CAC1E,MAAO,2CAA2C,CACpD,CAAC;AACH;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,QAAQ,CAAG3C,MAAM,CAACc,GAAG;AAC3B;AACA;AACA,CAAC,CAED,KAAM,CAAA8B,cAAc,CAAG5C,MAAM,CAACc,GAAG;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAA+B,iBAAiB,CAAG7C,MAAM,CAACc,GAAG;AACpC;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAgC,WAAW,CAAG9C,MAAM,CAAC+C,IAAI;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAC,gBAAgB,CAAGhD,MAAM,CAACc,GAAG;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC,CAED,KAAM,CAAAmC,UAAU,CAAGjD,MAAM,CAACc,GAAG;AAC7B;AACA;AACA;AACA;AACA,CAAC,CAED;AACA,KAAM,CAAAoC,YAAsB,CAAGA,CAAA,GAAM,CACnC,KAAM,CAACC,KAAK,CAAEC,QAAQ,CAAC,CAAGrD,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACsD,UAAU,CAAEC,aAAa,CAAC,CAAGvD,QAAQ,CAAsB,QAAQ,CAAC,CAC3E,KAAM,CAACwD,IAAI,CAAEC,OAAO,CAAC,CAAGzD,QAAQ,CAAC,CAAC,CAAC,CACnC,KAAM,CAAC0D,QAAQ,CAAEC,WAAW,CAAC,CAAG3D,QAAQ,CAAC,GAAG,CAAC,CAC7C,KAAM,CAAC4D,SAAS,CAAEC,YAAY,CAAC,CAAG7D,QAAQ,CAAC,KAAK,CAAC,CACjD,KAAM,CAAC8D,OAAO,CAAEC,UAAU,CAAC,CAAG/D,QAAQ,CAA8B,IAAI,CAAC,CACzE,KAAM,CAACgE,KAAK,CAAEC,QAAQ,CAAC,CAAGjE,QAAQ,CAAC,EAAE,CAAC,CAEtC,KAAM,CAAAkE,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CAACd,KAAK,CAACe,IAAI,CAAC,CAAC,CAAE,OAEnBN,YAAY,CAAC,IAAI,CAAC,CAClBI,QAAQ,CAAC,EAAE,CAAC,CAEZ,GAAI,CACF,KAAM,CAAAG,YAAY,CAAG,CACnBhB,KAAK,CAAEA,KAAK,CAACe,IAAI,CAAC,CAAC,CACnBE,KAAK,CAAEb,IAAI,CACXc,SAAS,CAAEZ,QACb,CAAC,CAED,GAAI,CAAAa,QAAQ,CACZ,GAAIjB,UAAU,GAAK,QAAQ,CAAE,CAC3BiB,QAAQ,CAAG,KAAM,CAAAhE,UAAU,CAACiE,IAAI,CAAC,oBAAoB,CAAEJ,YAAY,CAAC,CACtE,CAAC,IAAM,CACLG,QAAQ,CAAG,KAAM,CAAAhE,UAAU,CAACiE,IAAI,CAAC,oBAAoB,CAAEJ,YAAY,CAAC,CACtE,CAEAL,UAAU,CAACQ,QAAQ,CAACE,IAAI,CAAC,CAC3B,CAAE,MAAOC,GAAQ,CAAE,KAAAC,aAAA,CAAAC,kBAAA,CACjBX,QAAQ,CAAC,EAAAU,aAAA,CAAAD,GAAG,CAACH,QAAQ,UAAAI,aAAA,kBAAAC,kBAAA,CAAZD,aAAA,CAAcF,IAAI,UAAAG,kBAAA,iBAAlBA,kBAAA,CAAoBC,MAAM,GAAI,4BAA4B,CAAC,CACpEC,OAAO,CAACd,KAAK,CAAC,eAAe,CAAEU,GAAG,CAAC,CACrC,CAAC,OAAS,CACRb,YAAY,CAAC,KAAK,CAAC,CACrB,CACF,CAAC,CAED,KAAM,CAAAkB,cAAc,CAAIC,CAAsB,EAAK,CACjD,GAAIA,CAAC,CAACC,GAAG,GAAK,OAAO,CAAE,CACrBf,YAAY,CAAC,CAAC,CAChB,CACF,CAAC,CAED,mBACEvD,KAAA,CAACG,eAAe,EAAAoE,QAAA,eACdvE,KAAA,CAACK,YAAY,EAAAkE,QAAA,eACXzE,IAAA,CAACU,UAAU,EAAA+D,QAAA,cACTzE,IAAA,CAACH,KAAK,GAAE,CAAC,CACC,CAAC,cACbG,IAAA,CAACQ,WAAW,EAAAiE,QAAA,CAAC,gDAAmC,CAAa,CAAC,EAClD,CAAC,cAEfvE,KAAA,CAACmB,gBAAgB,EAAAoD,QAAA,eACfvE,KAAA,CAACoB,UAAU,EACTE,MAAM,CAAEqB,UAAU,GAAK,QAAS,CAChC6B,OAAO,CAAEA,CAAA,GAAM5B,aAAa,CAAC,QAAQ,CAAE,CAAA2B,QAAA,eAEvCzE,IAAA,CAACL,KAAK,GAAE,CAAC,gBAEX,EAAY,CAAC,cACbO,KAAA,CAACoB,UAAU,EACTE,MAAM,CAAEqB,UAAU,GAAK,QAAS,CAChC6B,OAAO,CAAEA,CAAA,GAAM5B,aAAa,CAAC,QAAQ,CAAE,CAAA2B,QAAA,eAEvCzE,IAAA,CAACJ,QAAQ,GAAE,CAAC,gBAEd,EAAY,CAAC,EACG,CAAC,cAEnBM,KAAA,CAACS,oBAAoB,EAAA8D,QAAA,eACnBzE,IAAA,CAACY,WAAW,EACV+D,IAAI,CAAC,MAAM,CACXC,WAAW,CAAC,6GAAgF,CAC5FC,KAAK,CAAElC,KAAM,CACbmC,QAAQ,CAAGP,CAAC,EAAK3B,QAAQ,CAAC2B,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAE,CAC1CG,UAAU,CAAEV,cAAe,CAC5B,CAAC,cACFtE,IAAA,CAACc,YAAY,EACX4D,OAAO,CAAEjB,YAAa,CACtBwB,QAAQ,CAAE9B,SAAS,EAAI,CAACR,KAAK,CAACe,IAAI,CAAC,CAAE,CAAAe,QAAA,CAEpCtB,SAAS,cAAGnD,IAAA,CAACN,QAAQ,EAACwF,SAAS,CAAC,cAAc,CAAE,CAAC,cAAGlF,IAAA,CAACP,QAAQ,GAAE,CAAC,CACrD,CAAC,EACK,CAAC,cAEvBS,KAAA,CAACc,aAAa,EAAAyD,QAAA,eACZvE,KAAA,CAACe,WAAW,EAAAwD,QAAA,eACVzE,IAAA,CAACkB,WAAW,EAAAuD,QAAA,CAAC,4BAAW,CAAa,CAAC,cACtCzE,IAAA,CAACoB,WAAW,EACVuD,IAAI,CAAC,QAAQ,CACbQ,GAAG,CAAC,GAAG,CACPC,GAAG,CAAC,IAAI,CACRP,KAAK,CAAE9B,IAAK,CACZ+B,QAAQ,CAAGP,CAAC,EAAKvB,OAAO,CAACqC,QAAQ,CAACd,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAC,EAAI,CAAC,CAAE,CACzD,CAAC,EACS,CAAC,cACd3E,KAAA,CAACe,WAAW,EAAAwD,QAAA,eACVzE,IAAA,CAACkB,WAAW,EAAAuD,QAAA,CAAC,kEAAwB,CAAa,CAAC,cACnDzE,IAAA,CAACoB,WAAW,EACVuD,IAAI,CAAC,QAAQ,CACbQ,GAAG,CAAC,KAAK,CACTC,GAAG,CAAC,KAAK,CACTE,IAAI,CAAC,KAAK,CACVT,KAAK,CAAE5B,QAAS,CAChB6B,QAAQ,CAAGP,CAAC,EAAKrB,WAAW,CAACqC,UAAU,CAAChB,CAAC,CAACQ,MAAM,CAACF,KAAK,CAAC,EAAI,GAAG,CAAE,CACjE,CAAC,EACS,CAAC,EACD,CAAC,CAEftB,KAAK,eACJvD,IAAA,QAAKwF,KAAK,CAAE,CACVC,KAAK,CAAE,SAAS,CAChBC,UAAU,CAAE,SAAS,CACrBC,OAAO,CAAE,MAAM,CACfC,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,MAChB,CAAE,CAAApB,QAAA,CACClB,KAAK,CACH,CACN,CAEAJ,SAAS,eACRjD,KAAA,CAACsC,gBAAgB,EAAAiC,QAAA,eACfzE,IAAA,CAACN,QAAQ,EAACwF,SAAS,CAAC,cAAc,CAAE,CAAC,gCAEvC,EAAkB,CACnB,CAEA7B,OAAO,EAAI,CAACF,SAAS,eACpBjD,KAAA,CAACuB,gBAAgB,EAAAgD,QAAA,eACfzE,IAAA,CAAC0B,aAAa,EAAA+C,QAAA,cACZzE,IAAA,CAAC2B,WAAW,EAAA8C,QAAA,CACT5B,UAAU,GAAK,QAAQ,cACtB3C,KAAA,CAAAE,SAAA,EAAAqE,QAAA,EAAE,mBACS,cAAAzE,IAAA,WAAAyE,QAAA,CAASpB,OAAO,CAACyC,aAAa,CAAS,CAAC,2BAAc,CAAC,GAAG,cACnE5F,KAAA,WAAAuE,QAAA,EAASpB,OAAO,CAAC0C,cAAc,CAAC,IAAE,EAAQ,CAAC,yBACrB,CAAC1C,OAAO,CAAC2C,mBAAmB,CAAC,GACrD,EAAE,CAAC,cAEH9F,KAAA,CAAAE,SAAA,EAAAqE,QAAA,EAAE,mBACS,cAAAzE,IAAA,WAAAyE,QAAA,CAASpB,OAAO,CAAC4C,oBAAoB,CAAS,CAAC,+BAAkB,cAAAjG,IAAA,WAAAyE,QAAA,CAASpB,OAAO,CAAC6C,kBAAkB,CAAS,CAAC,gCAAmB,CAAC,GAAG,cAC9IhG,KAAA,WAAAuE,QAAA,EAASpB,OAAO,CAAC0C,cAAc,CAAC,IAAE,EAAQ,CAAC,EAC3C,CACH,CACU,CAAC,CACD,CAAC,CAEflD,UAAU,GAAK,QAAQ,CACtB;AACAQ,OAAO,CAACA,OAAO,EAAIA,OAAO,CAACA,OAAO,CAAC8C,MAAM,GAAK,CAAC,cAC7CjG,KAAA,CAACuC,UAAU,EAAAgC,QAAA,EAAC,sFACsC,CAAC9B,KAAK,CAAC,IACzD,EAAY,CAAC,CAEbU,OAAO,CAACA,OAAO,EAAIA,OAAO,CAACA,OAAO,CAAC+C,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBACnDpG,KAAA,CAAC0B,UAAU,EAAA6C,QAAA,eACTvE,KAAA,CAAC2B,YAAY,EAAA4C,QAAA,eACXzE,IAAA,CAAC8B,WAAW,EAAA2C,QAAA,CAAE4B,MAAM,CAACE,YAAY,CAAc,CAAC,cAChDrG,KAAA,CAAC8B,cAAc,EAAAyC,QAAA,eACbvE,KAAA,CAAC+B,eAAe,EAACC,KAAK,CAAEmE,MAAM,CAACG,gBAAiB,CAAA/B,QAAA,EAC7C,CAAC4B,MAAM,CAACG,gBAAgB,CAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,mBAC9C,EAAiB,CAAC,cAClBvG,KAAA,CAACiC,QAAQ,EAAAsC,QAAA,EAAC,OAAK,CAAC4B,MAAM,CAACK,SAAS,CAACD,OAAO,CAAC,CAAC,CAAC,EAAW,CAAC,EACzC,CAAC,EACL,CAAC,cAEfzG,IAAA,CAACoC,cAAc,EAAAqC,QAAA,CACZ4B,MAAM,CAACM,OAAO,CACD,CAAC,cAEjBzG,KAAA,CAACmC,iBAAiB,EAAAoC,QAAA,eAChBvE,KAAA,CAACoC,WAAW,EAAAmC,QAAA,EAAC,MAAI,CAAC4B,MAAM,CAACO,UAAU,EAAc,CAAC,CACjDP,MAAM,CAACQ,QAAQ,CAACC,MAAM,eACrB5G,KAAA,CAACoC,WAAW,EAAAmC,QAAA,EAAC,cAAO,CAAC4B,MAAM,CAACQ,QAAQ,CAACC,MAAM,EAAc,CAC1D,CACAT,MAAM,CAACU,UAAU,eAChB7G,KAAA,CAACoC,WAAW,EAAAmC,QAAA,EAAC,oBACD,CAAC,GAAI,CAAAuC,IAAI,CAACX,MAAM,CAACU,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAC,EACvD,CACd,EACgB,CAAC,GAzBL,GAAGZ,MAAM,CAACO,UAAU,IAAIN,KAAK,EA0BlC,CACb,CACF,cAED;AACApG,KAAA,CAAAE,SAAA,EAAAqE,QAAA,EAEGpB,OAAO,CAAC6D,cAAc,EAAI7D,OAAO,CAAC6D,cAAc,CAACf,MAAM,CAAG,CAAC,eAC1DjG,KAAA,CAAAE,SAAA,EAAAqE,QAAA,eACEvE,KAAA,QAAKsF,KAAK,CAAE,CACVE,UAAU,CAAE,mDAAmD,CAC/DD,KAAK,CAAE,OAAO,CACdE,OAAO,CAAE,WAAW,CACpBC,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,MAAM,CACpBsB,UAAU,CAAE,MACd,CAAE,CAAA1C,QAAA,EAAC,uEACsC,CAACpB,OAAO,CAAC4C,oBAAoB,CAAC,UACvE,EAAK,CAAC,CACL5C,OAAO,CAAC6D,cAAc,CAACd,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,gBACxCpG,KAAA,CAAC0B,UAAU,EAAA6C,QAAA,eACTvE,KAAA,CAAC2B,YAAY,EAAA4C,QAAA,eACXzE,IAAA,CAAC8B,WAAW,EAAA2C,QAAA,CAAE4B,MAAM,CAACE,YAAY,CAAc,CAAC,cAChDrG,KAAA,CAAC8B,cAAc,EAAAyC,QAAA,eACbvE,KAAA,CAAC+B,eAAe,EAACC,KAAK,CAAEmE,MAAM,CAACG,gBAAiB,CAAA/B,QAAA,EAC7C,CAAC4B,MAAM,CAACG,gBAAgB,CAAG,GAAG,EAAEC,OAAO,CAAC,CAAC,CAAC,CAAC,mBAC9C,EAAiB,CAAC,cAClBvG,KAAA,CAACiC,QAAQ,EAAAsC,QAAA,EAAC,OAAK,CAAC4B,MAAM,CAACK,SAAS,CAACD,OAAO,CAAC,CAAC,CAAC,EAAW,CAAC,EACzC,CAAC,EACL,CAAC,cAEfzG,IAAA,CAACoC,cAAc,EAAAqC,QAAA,CACZ4B,MAAM,CAACM,OAAO,CACD,CAAC,cAEjBzG,KAAA,CAACmC,iBAAiB,EAAAoC,QAAA,eAChBvE,KAAA,CAACoC,WAAW,EAAAmC,QAAA,EAAC,MAAI,CAAC4B,MAAM,CAACO,UAAU,EAAc,CAAC,CACjDP,MAAM,CAACQ,QAAQ,CAACO,QAAQ,eACvBlH,KAAA,CAACoC,WAAW,EAAAmC,QAAA,EAAC,eAAG,CAAC4B,MAAM,CAACQ,QAAQ,CAACO,QAAQ,EAAc,CACxD,CACAf,MAAM,CAACU,UAAU,eAChB7G,KAAA,CAACoC,WAAW,EAAAmC,QAAA,EAAC,oBACD,CAAC,GAAI,CAAAuC,IAAI,CAACX,MAAM,CAACU,UAAU,CAAC,CAACE,kBAAkB,CAAC,OAAO,CAAC,EACvD,CACd,EACgB,CAAC,GAzBL,UAAUZ,MAAM,CAACO,UAAU,IAAIN,KAAK,EA0BzC,CACb,CAAC,EACF,CACH,CAGAjD,OAAO,CAACgE,YAAY,EAAIhE,OAAO,CAACgE,YAAY,CAAClB,MAAM,CAAG,CAAC,eACtDjG,KAAA,CAAAE,SAAA,EAAAqE,QAAA,eACEvE,KAAA,QAAKsF,KAAK,CAAE,CACVE,UAAU,CAAE,mDAAmD,CAC/DD,KAAK,CAAE,OAAO,CACdE,OAAO,CAAE,WAAW,CACpBC,YAAY,CAAE,KAAK,CACnBC,YAAY,CAAE,MAAM,CACpBsB,UAAU,CAAE,MACd,CAAE,CAAA1C,QAAA,EAAC,iEACkC,CAACpB,OAAO,CAAC6C,kBAAkB,CAAC,UACjE,EAAK,CAAC,CACL7C,OAAO,CAACgE,YAAY,CAACjB,GAAG,CAAC,CAACC,MAAM,CAAEC,KAAK,QAAAgB,kBAAA,CAAAC,mBAAA,oBACtCrH,KAAA,CAAC0B,UAAU,EAAA6C,QAAA,eACTvE,KAAA,CAAC2B,YAAY,EAAA4C,QAAA,eACXzE,IAAA,CAAC8B,WAAW,EAAA2C,QAAA,CAAE4B,MAAM,CAACE,YAAY,CAAc,CAAC,cAChDvG,IAAA,CAACgC,cAAc,EAAAyC,QAAA,cACbvE,KAAA,CAAC+B,eAAe,EAACC,KAAK,CAAE,EAAAoF,kBAAA,CAACjB,MAAM,CAACmB,UAAU,UAAAF,kBAAA,UAAAA,kBAAA,CAAI,CAAC,EAAI,EAAG,CAAA7C,QAAA,EAAC,cACzC,CAAC,EAAA8C,mBAAA,CAAClB,MAAM,CAACmB,UAAU,UAAAD,mBAAA,UAAAA,mBAAA,CAAI,CAAC,EAAEd,OAAO,CAAC,CAAC,CAAC,EACjC,CAAC,CACJ,CAAC,EACL,CAAC,cAEfzG,IAAA,CAACoC,cAAc,EAAAqC,QAAA,CACZ4B,MAAM,CAACM,OAAO,CACD,CAAC,cAEjBzG,KAAA,CAACmC,iBAAiB,EAAAoC,QAAA,eAChBvE,KAAA,CAACoC,WAAW,EAAAmC,QAAA,EAAC,MAAI,CAAC4B,MAAM,CAACO,UAAU,EAAc,CAAC,CACjDP,MAAM,CAACQ,QAAQ,CAACO,QAAQ,eACvBlH,KAAA,CAACoC,WAAW,EAAAmC,QAAA,EAAC,eAAG,CAAC4B,MAAM,CAACQ,QAAQ,CAACO,QAAQ,EAAc,CACxD,EACgB,CAAC,GAnBL,QAAQf,MAAM,CAACO,UAAU,IAAIN,KAAK,EAoBvC,CAAC,EACd,CAAC,EACF,CACH,CAEA,CAAC,CAACjD,OAAO,CAAC6D,cAAc,EAAI7D,OAAO,CAAC6D,cAAc,CAACf,MAAM,GAAK,CAAC,IAC9D,CAAC9C,OAAO,CAACgE,YAAY,EAAIhE,OAAO,CAACgE,YAAY,CAAClB,MAAM,GAAK,CAAC,CAAC,eAC3DjG,KAAA,CAACuC,UAAU,EAAAgC,QAAA,EAAC,sFACsC,CAAC9B,KAAK,CAAC,IACzD,EAAY,CACb,EACD,CACH,EACe,CACnB,EACc,CAAC,CAEtB,CAAC,CAED,cAAe,CAAAD,YAAY","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}