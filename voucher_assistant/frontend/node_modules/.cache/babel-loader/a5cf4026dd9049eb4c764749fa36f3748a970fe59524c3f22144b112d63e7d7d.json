{"ast":null,"code":"var _jsxFileName = \"/Users/1-tiennv-m/1MG/Projects/LLM/voucher_assistant/frontend/src/components/FeedbackWidget.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { FiStar, FiThumbsUp, FiThumbsDown, FiMessageSquare, FiSend } from 'react-icons/fi';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FeedbackContainer = styled.div`\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  padding: 20px;\n  margin-top: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n`;\n_c = FeedbackContainer;\nconst FeedbackHeader = styled.h3`\n  margin: 0 0 16px 0;\n  color: #333;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n_c2 = FeedbackHeader;\nconst RatingSection = styled.div`\n  margin-bottom: 16px;\n`;\n_c3 = RatingSection;\nconst RatingLabel = styled.label`\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 8px;\n  display: block;\n`;\n_c4 = RatingLabel;\nconst StarRating = styled.div`\n  display: flex;\n  gap: 4px;\n  margin-bottom: 12px;\n`;\n_c5 = StarRating;\nconst Star = styled.button`\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 20px;\n  color: ${props => props.filled ? '#ffd700' : '#ddd'};\n  transition: color 0.2s ease;\n  \n  &:hover {\n    color: #ffd700;\n  }\n`;\n_c6 = Star;\nconst FeedbackTypeSelector = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-bottom: 16px;\n`;\n_c7 = FeedbackTypeSelector;\nconst TypeButton = styled.button`\n  padding: 8px 12px;\n  border: 1px solid ${props => props.selected ? '#667eea' : '#ddd'};\n  border-radius: 16px;\n  background: ${props => props.selected ? '#667eea' : 'white'};\n  color: ${props => props.selected ? 'white' : '#666'};\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    border-color: #667eea;\n    color: ${props => props.selected ? 'white' : '#667eea'};\n  }\n`;\n_c8 = TypeButton;\nconst CommentTextarea = styled.textarea`\n  width: 100%;\n  min-height: 80px;\n  padding: 12px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  resize: vertical;\n  font-family: inherit;\n  font-size: 14px;\n  \n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);\n  }\n`;\n_c9 = CommentTextarea;\nconst SubmitButton = styled.button`\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 8px;\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\n  opacity: ${props => props.disabled ? 0.5 : 1};\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-top: 12px;\n  transition: all 0.2s ease;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n  }\n`;\n_c0 = SubmitButton;\nconst SuccessMessage = styled.div`\n  background: #e8f5e8;\n  color: #2e7d32;\n  padding: 12px;\n  border-radius: 8px;\n  border: 1px solid #4caf50;\n  margin-top: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n_c1 = SuccessMessage;\nconst QuickActions = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 16px;\n`;\n_c10 = QuickActions;\nconst QuickActionButton = styled.button`\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 12px;\n  border: 1px solid ${props => props.type === 'positive' ? '#4caf50' : '#f44336'};\n  border-radius: 20px;\n  background: white;\n  color: ${props => props.type === 'positive' ? '#4caf50' : '#f44336'};\n  cursor: pointer;\n  font-size: 12px;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: ${props => props.type === 'positive' ? '#4caf50' : '#f44336'};\n    color: white;\n  }\n`;\n_c11 = QuickActionButton;\nconst FeedbackWidget = ({\n  voucherId,\n  onFeedbackSubmitted\n}) => {\n  _s();\n  const [rating, setRating] = useState(0);\n  const [hoverRating, setHoverRating] = useState(0);\n  const [feedbackType, setFeedbackType] = useState('general');\n  const [comment, setComment] = useState('');\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isSubmitted, setIsSubmitted] = useState(false);\n  const [showDetailedForm, setShowDetailedForm] = useState(false);\n  const feedbackTypes = [{\n    value: 'summary_quality',\n    label: 'Chất lượng tóm tắt'\n  }, {\n    value: 'answer_accuracy',\n    label: 'Độ chính xác câu trả lời'\n  }, {\n    value: 'ui_experience',\n    label: 'Trải nghiệm giao diện'\n  }, {\n    value: 'general',\n    label: 'Tổng quan'\n  }];\n  const handleQuickFeedback = async type => {\n    const quickRating = type === 'positive' ? 5 : 2;\n    await submitFeedback(quickRating, 'general', '');\n  };\n  const submitFeedback = async (feedbackRating, type, commentText) => {\n    setIsSubmitting(true);\n    try {\n      const feedbackData = {\n        feedback_type: type,\n        rating: feedbackRating,\n        comment: commentText || null,\n        voucher_id: voucherId || null,\n        user_session_id: localStorage.getItem('session_id') || null,\n        timestamp: new Date().toISOString()\n      };\n      const response = await fetch('/api/feedback', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(feedbackData)\n      });\n      if (response.ok) {\n        setIsSubmitted(true);\n        setTimeout(() => {\n          setIsSubmitted(false);\n          setShowDetailedForm(false);\n          setRating(0);\n          setComment('');\n          setFeedbackType('general');\n        }, 3000);\n        if (onFeedbackSubmitted) {\n          onFeedbackSubmitted();\n        }\n      }\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n  const handleDetailedSubmit = async () => {\n    if (rating === 0) return;\n    await submitFeedback(rating, feedbackType, comment);\n  };\n  if (isSubmitted) {\n    return /*#__PURE__*/_jsxDEV(FeedbackContainer, {\n      children: /*#__PURE__*/_jsxDEV(SuccessMessage, {\n        children: [/*#__PURE__*/_jsxDEV(FiThumbsUp, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 228,\n          columnNumber: 11\n        }, this), \"C\\u1EA3m \\u01A1n b\\u1EA1n \\u0111\\xE3 g\\xF3p \\xFD! Ph\\u1EA3n h\\u1ED3i c\\u1EE7a b\\u1EA1n gi\\xFAp ch\\xFAng t\\xF4i c\\u1EA3i thi\\u1EC7n d\\u1ECBch v\\u1EE5.\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(FeedbackContainer, {\n    children: [/*#__PURE__*/_jsxDEV(FeedbackHeader, {\n      children: [/*#__PURE__*/_jsxDEV(FiMessageSquare, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 9\n      }, this), \"\\u0110\\xE1nh gi\\xE1 tr\\u1EA3i nghi\\u1EC7m\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 237,\n      columnNumber: 7\n    }, this), !showDetailedForm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(QuickActions, {\n        children: [/*#__PURE__*/_jsxDEV(QuickActionButton, {\n          type: \"positive\",\n          onClick: () => handleQuickFeedback('positive'),\n          disabled: isSubmitting,\n          children: [/*#__PURE__*/_jsxDEV(FiThumbsUp, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 15\n          }, this), \"H\\xE0i l\\xF2ng\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(QuickActionButton, {\n          type: \"negative\",\n          onClick: () => handleQuickFeedback('negative'),\n          disabled: isSubmitting,\n          children: [/*#__PURE__*/_jsxDEV(FiThumbsDown, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 15\n          }, this), \"Ch\\u01B0a h\\xE0i l\\xF2ng\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 253,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setShowDetailedForm(true),\n        style: {\n          background: 'none',\n          border: '1px solid #ddd',\n          padding: '8px 16px',\n          borderRadius: '6px',\n          cursor: 'pointer',\n          fontSize: '12px',\n          color: '#666'\n        },\n        children: \"\\u0110\\xE1nh gi\\xE1 chi ti\\u1EBFt\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 263,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(RatingSection, {\n        children: [/*#__PURE__*/_jsxDEV(RatingLabel, {\n          children: \"\\u0110\\xE1nh gi\\xE1 t\\u1ED5ng quan:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 281,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(StarRating, {\n          children: [1, 2, 3, 4, 5].map(star => /*#__PURE__*/_jsxDEV(Star, {\n            filled: star <= (hoverRating || rating),\n            onClick: () => setRating(star),\n            onMouseEnter: () => setHoverRating(star),\n            onMouseLeave: () => setHoverRating(0),\n            children: /*#__PURE__*/_jsxDEV(FiStar, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 19\n            }, this)\n          }, star, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(RatingSection, {\n        children: [/*#__PURE__*/_jsxDEV(RatingLabel, {\n          children: \"Lo\\u1EA1i ph\\u1EA3n h\\u1ED3i:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FeedbackTypeSelector, {\n          children: feedbackTypes.map(type => /*#__PURE__*/_jsxDEV(TypeButton, {\n            selected: feedbackType === type.value,\n            onClick: () => setFeedbackType(type.value),\n            children: type.label\n          }, type.value, false, {\n            fileName: _jsxFileName,\n            lineNumber: 301,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 297,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(RatingSection, {\n        children: [/*#__PURE__*/_jsxDEV(RatingLabel, {\n          children: \"Nh\\u1EADn x\\xE9t (t\\xF9y ch\\u1ECDn):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(CommentTextarea, {\n          value: comment,\n          onChange: e => setComment(e.target.value),\n          placeholder: \"Chia s\\u1EBB tr\\u1EA3i nghi\\u1EC7m c\\u1EE7a b\\u1EA1n \\u0111\\u1EC3 ch\\xFAng t\\xF4i c\\xF3 th\\u1EC3 c\\u1EA3i thi\\u1EC7n...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 314,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 312,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(SubmitButton, {\n        onClick: handleDetailedSubmit,\n        disabled: rating === 0 || isSubmitting,\n        children: [/*#__PURE__*/_jsxDEV(FiSend, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 13\n        }, this), isSubmitting ? 'Đang gửi...' : 'Gửi đánh giá']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 321,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 236,\n    columnNumber: 5\n  }, this);\n};\n_s(FeedbackWidget, \"l9w6adPwp8ExuwNCCpcW8VK16kI=\");\n_c12 = FeedbackWidget;\nexport default FeedbackWidget;\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9, _c0, _c1, _c10, _c11, _c12;\n$RefreshReg$(_c, \"FeedbackContainer\");\n$RefreshReg$(_c2, \"FeedbackHeader\");\n$RefreshReg$(_c3, \"RatingSection\");\n$RefreshReg$(_c4, \"RatingLabel\");\n$RefreshReg$(_c5, \"StarRating\");\n$RefreshReg$(_c6, \"Star\");\n$RefreshReg$(_c7, \"FeedbackTypeSelector\");\n$RefreshReg$(_c8, \"TypeButton\");\n$RefreshReg$(_c9, \"CommentTextarea\");\n$RefreshReg$(_c0, \"SubmitButton\");\n$RefreshReg$(_c1, \"SuccessMessage\");\n$RefreshReg$(_c10, \"QuickActions\");\n$RefreshReg$(_c11, \"QuickActionButton\");\n$RefreshReg$(_c12, \"FeedbackWidget\");","map":{"version":3,"names":["React","useState","styled","FiStar","FiThumbsUp","FiThumbsDown","FiMessageSquare","FiSend","jsxDEV","_jsxDEV","Fragment","_Fragment","FeedbackContainer","div","_c","FeedbackHeader","h3","_c2","RatingSection","_c3","RatingLabel","label","_c4","StarRating","_c5","Star","button","props","filled","_c6","FeedbackTypeSelector","_c7","TypeButton","selected","_c8","CommentTextarea","textarea","_c9","SubmitButton","disabled","_c0","SuccessMessage","_c1","QuickActions","_c10","QuickActionButton","type","_c11","FeedbackWidget","voucherId","onFeedbackSubmitted","_s","rating","setRating","hoverRating","setHoverRating","feedbackType","setFeedbackType","comment","setComment","isSubmitting","setIsSubmitting","isSubmitted","setIsSubmitted","showDetailedForm","setShowDetailedForm","feedbackTypes","value","handleQuickFeedback","quickRating","submitFeedback","feedbackRating","commentText","feedbackData","feedback_type","voucher_id","user_session_id","localStorage","getItem","timestamp","Date","toISOString","response","fetch","method","headers","body","JSON","stringify","ok","setTimeout","error","console","handleDetailedSubmit","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","style","background","border","padding","borderRadius","cursor","fontSize","color","map","star","onMouseEnter","onMouseLeave","onChange","e","target","placeholder","_c12","$RefreshReg$"],"sources":["/Users/1-tiennv-m/1MG/Projects/LLM/voucher_assistant/frontend/src/components/FeedbackWidget.tsx"],"sourcesContent":["import React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { FiStar, FiThumbsUp, FiThumbsDown, FiMessageSquare, FiSend } from 'react-icons/fi';\n\nconst FeedbackContainer = styled.div`\n  background: white;\n  border: 1px solid #e0e0e0;\n  border-radius: 12px;\n  padding: 20px;\n  margin-top: 16px;\n  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n`;\n\nconst FeedbackHeader = styled.h3`\n  margin: 0 0 16px 0;\n  color: #333;\n  font-size: 16px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst RatingSection = styled.div`\n  margin-bottom: 16px;\n`;\n\nconst RatingLabel = styled.label`\n  font-size: 14px;\n  color: #666;\n  margin-bottom: 8px;\n  display: block;\n`;\n\nconst StarRating = styled.div`\n  display: flex;\n  gap: 4px;\n  margin-bottom: 12px;\n`;\n\nconst Star = styled.button<{ filled: boolean }>`\n  background: none;\n  border: none;\n  cursor: pointer;\n  font-size: 20px;\n  color: ${props => props.filled ? '#ffd700' : '#ddd'};\n  transition: color 0.2s ease;\n  \n  &:hover {\n    color: #ffd700;\n  }\n`;\n\nconst FeedbackTypeSelector = styled.div`\n  display: flex;\n  flex-wrap: wrap;\n  gap: 8px;\n  margin-bottom: 16px;\n`;\n\nconst TypeButton = styled.button<{ selected: boolean }>`\n  padding: 8px 12px;\n  border: 1px solid ${props => props.selected ? '#667eea' : '#ddd'};\n  border-radius: 16px;\n  background: ${props => props.selected ? '#667eea' : 'white'};\n  color: ${props => props.selected ? 'white' : '#666'};\n  font-size: 12px;\n  cursor: pointer;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    border-color: #667eea;\n    color: ${props => props.selected ? 'white' : '#667eea'};\n  }\n`;\n\nconst CommentTextarea = styled.textarea`\n  width: 100%;\n  min-height: 80px;\n  padding: 12px;\n  border: 1px solid #ddd;\n  border-radius: 8px;\n  resize: vertical;\n  font-family: inherit;\n  font-size: 14px;\n  \n  &:focus {\n    outline: none;\n    border-color: #667eea;\n    box-shadow: 0 0 0 2px rgba(102, 126, 234, 0.1);\n  }\n`;\n\nconst SubmitButton = styled.button<{ disabled: boolean }>`\n  background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n  color: white;\n  border: none;\n  padding: 10px 20px;\n  border-radius: 8px;\n  cursor: ${props => props.disabled ? 'not-allowed' : 'pointer'};\n  opacity: ${props => props.disabled ? 0.5 : 1};\n  font-size: 14px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n  margin-top: 12px;\n  transition: all 0.2s ease;\n  \n  &:hover:not(:disabled) {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 12px rgba(102, 126, 234, 0.3);\n  }\n`;\n\nconst SuccessMessage = styled.div`\n  background: #e8f5e8;\n  color: #2e7d32;\n  padding: 12px;\n  border-radius: 8px;\n  border: 1px solid #4caf50;\n  margin-top: 12px;\n  display: flex;\n  align-items: center;\n  gap: 8px;\n`;\n\nconst QuickActions = styled.div`\n  display: flex;\n  gap: 8px;\n  margin-bottom: 16px;\n`;\n\nconst QuickActionButton = styled.button<{ type: 'positive' | 'negative' }>`\n  display: flex;\n  align-items: center;\n  gap: 6px;\n  padding: 8px 12px;\n  border: 1px solid ${props => props.type === 'positive' ? '#4caf50' : '#f44336'};\n  border-radius: 20px;\n  background: white;\n  color: ${props => props.type === 'positive' ? '#4caf50' : '#f44336'};\n  cursor: pointer;\n  font-size: 12px;\n  transition: all 0.2s ease;\n  \n  &:hover {\n    background: ${props => props.type === 'positive' ? '#4caf50' : '#f44336'};\n    color: white;\n  }\n`;\n\ninterface FeedbackWidgetProps {\n  voucherId?: string;\n  onFeedbackSubmitted?: () => void;\n}\n\nconst FeedbackWidget: React.FC<FeedbackWidgetProps> = ({ voucherId, onFeedbackSubmitted }) => {\n  const [rating, setRating] = useState<number>(0);\n  const [hoverRating, setHoverRating] = useState<number>(0);\n  const [feedbackType, setFeedbackType] = useState<string>('general');\n  const [comment, setComment] = useState<string>('');\n  const [isSubmitting, setIsSubmitting] = useState<boolean>(false);\n  const [isSubmitted, setIsSubmitted] = useState<boolean>(false);\n  const [showDetailedForm, setShowDetailedForm] = useState<boolean>(false);\n\n  const feedbackTypes = [\n    { value: 'summary_quality', label: 'Chất lượng tóm tắt' },\n    { value: 'answer_accuracy', label: 'Độ chính xác câu trả lời' },\n    { value: 'ui_experience', label: 'Trải nghiệm giao diện' },\n    { value: 'general', label: 'Tổng quan' }\n  ];\n\n  const handleQuickFeedback = async (type: 'positive' | 'negative') => {\n    const quickRating = type === 'positive' ? 5 : 2;\n    await submitFeedback(quickRating, 'general', '');\n  };\n\n  const submitFeedback = async (feedbackRating: number, type: string, commentText: string) => {\n    setIsSubmitting(true);\n    \n    try {\n      const feedbackData = {\n        feedback_type: type,\n        rating: feedbackRating,\n        comment: commentText || null,\n        voucher_id: voucherId || null,\n        user_session_id: localStorage.getItem('session_id') || null,\n        timestamp: new Date().toISOString()\n      };\n\n      const response = await fetch('/api/feedback', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(feedbackData)\n      });\n\n      if (response.ok) {\n        setIsSubmitted(true);\n        setTimeout(() => {\n          setIsSubmitted(false);\n          setShowDetailedForm(false);\n          setRating(0);\n          setComment('');\n          setFeedbackType('general');\n        }, 3000);\n        \n        if (onFeedbackSubmitted) {\n          onFeedbackSubmitted();\n        }\n      }\n    } catch (error) {\n      console.error('Error submitting feedback:', error);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  const handleDetailedSubmit = async () => {\n    if (rating === 0) return;\n    await submitFeedback(rating, feedbackType, comment);\n  };\n\n  if (isSubmitted) {\n    return (\n      <FeedbackContainer>\n        <SuccessMessage>\n          <FiThumbsUp />\n          Cảm ơn bạn đã góp ý! Phản hồi của bạn giúp chúng tôi cải thiện dịch vụ.\n        </SuccessMessage>\n      </FeedbackContainer>\n    );\n  }\n\n  return (\n    <FeedbackContainer>\n      <FeedbackHeader>\n        <FiMessageSquare />\n        Đánh giá trải nghiệm\n      </FeedbackHeader>\n\n      {!showDetailedForm ? (\n        <>\n          <QuickActions>\n            <QuickActionButton \n              type=\"positive\" \n              onClick={() => handleQuickFeedback('positive')}\n              disabled={isSubmitting}\n            >\n              <FiThumbsUp />\n              Hài lòng\n            </QuickActionButton>\n            <QuickActionButton \n              type=\"negative\" \n              onClick={() => handleQuickFeedback('negative')}\n              disabled={isSubmitting}\n            >\n              <FiThumbsDown />\n              Chưa hài lòng\n            </QuickActionButton>\n          </QuickActions>\n          \n          <button\n            onClick={() => setShowDetailedForm(true)}\n            style={{\n              background: 'none',\n              border: '1px solid #ddd',\n              padding: '8px 16px',\n              borderRadius: '6px',\n              cursor: 'pointer',\n              fontSize: '12px',\n              color: '#666'\n            }}\n          >\n            Đánh giá chi tiết\n          </button>\n        </>\n      ) : (\n        <>\n          <RatingSection>\n            <RatingLabel>Đánh giá tổng quan:</RatingLabel>\n            <StarRating>\n              {[1, 2, 3, 4, 5].map((star) => (\n                <Star\n                  key={star}\n                  filled={star <= (hoverRating || rating)}\n                  onClick={() => setRating(star)}\n                  onMouseEnter={() => setHoverRating(star)}\n                  onMouseLeave={() => setHoverRating(0)}\n                >\n                  <FiStar />\n                </Star>\n              ))}\n            </StarRating>\n          </RatingSection>\n\n          <RatingSection>\n            <RatingLabel>Loại phản hồi:</RatingLabel>\n            <FeedbackTypeSelector>\n              {feedbackTypes.map((type) => (\n                <TypeButton\n                  key={type.value}\n                  selected={feedbackType === type.value}\n                  onClick={() => setFeedbackType(type.value)}\n                >\n                  {type.label}\n                </TypeButton>\n              ))}\n            </FeedbackTypeSelector>\n          </RatingSection>\n\n          <RatingSection>\n            <RatingLabel>Nhận xét (tùy chọn):</RatingLabel>\n            <CommentTextarea\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n              placeholder=\"Chia sẻ trải nghiệm của bạn để chúng tôi có thể cải thiện...\"\n            />\n          </RatingSection>\n\n          <SubmitButton\n            onClick={handleDetailedSubmit}\n            disabled={rating === 0 || isSubmitting}\n          >\n            <FiSend />\n            {isSubmitting ? 'Đang gửi...' : 'Gửi đánh giá'}\n          </SubmitButton>\n        </>\n      )}\n    </FeedbackContainer>\n  );\n};\n\nexport default FeedbackWidget;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}